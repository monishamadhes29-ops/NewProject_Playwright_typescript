# Playwright + gRPC CRUD Automation (Local Server)

This project demonstrates how to automate gRPC API CRUD operations using Playwright Test as a test runner, backed by a local Node.js gRPC server.
It is designed to be simple, stable, and easy to understand, without relying on external gRPC services or autogenerated code.

# Objective

    - Implement CRUD operations using gRPC

    - Use Playwright only as a test runner

    - Run tests against a local gRPC server

    - Maintain clean, readable, and maintainable code

# Tech Stack

    Node.js

    TypeScript

    gRPC

    @grpc/grpc-js

    @grpc/proto-loader

    Playwright Test (no browser automation)

# Project Structure
    playwright-grpc-localserver/
    │
    ├── proto/
    │   └── user.proto          # gRPC service contract
    │
    ├── src/
    │   └── grpc/
    │       ├── server.ts       # Local gRPC server implementation
    │       └── userClient.ts   # gRPC client wrapper
    │
    ├── tests/
    │   └── grpc.spec.ts        # Playwright gRPC tests
    │
    ├── playwright.config.ts
    ├── tsconfig.json
    ├── package.json
    └── README.md

# gRPC Service Overview

The gRPC service is defined in proto/user.proto and supports the following operations:

    CreateUser – Creates a new user

    GetUser – Fetches an existing user

    UpdateUser – Updates user details

    DeleteUser – Deletes a user

The server maintains user data in memory for simplicity.

# Installation

1. Install all dependencies:

    npm install


2. Install Playwright (if not already installed):

    npx playwright install

3. Install official gRPC packages for Node.js

    npm install @grpc/grpc-js @grpc/proto-loader


# Running the Project
Step 1: Start the local gRPC server

Open Terminal 1 and run:

npx ts-node src/grpc/server.ts


Expected output:

    gRPC Server running on port 50051


Keep this terminal running while executing tests.

Step 2: Run Playwright gRPC tests

Open Terminal 2 and run:

npx playwright test


All gRPC CRUD tests will execute
No browser is launched

# Test Execution Notes

Playwright is used only as a test runner, similar to Jest

No browser projects (chromium, firefox, webkit) are required

Tests run with a single worker to avoid shared state issues

Test data setup is handled using beforeAll

# Important Notes

The gRPC server must be restarted after any changes to:

.proto files

gRPC service methods

Since data is stored in memory, restarting the server resets the data

Parallel execution is disabled to ensure reliable test behavior

# Conclusion

This setup provides a clean and reliable way to automate gRPC APIs using Playwright, while following good testing practices and keeping the implementation easy to understand and maintain.